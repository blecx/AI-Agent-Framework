name: github-ops-mcp

services:
  github-ops-mcp:
    build:
      context: .
      dockerfile: docker/mcp-github-ops/Dockerfile
    container_name: github-ops-mcp
    restart: unless-stopped
    environment:
      - GITHUB_OPS_MCP_PORT=3018
      - GITHUB_OPS_MCP_HOST=0.0.0.0
      - GITHUB_OPS_MCP_REPO_ROOT=/workspace
      - GITHUB_OPS_MCP_AUDIT_DIR=/workspace/.tmp/mcp-github-ops
      - GITHUB_OPS_ALLOWED_REPOS=${GITHUB_OPS_ALLOWED_REPOS:-blecx/AI-Agent-Framework,blecx/AI-Agent-Framework-Client}
      - GH_TOKEN=${GH_TOKEN:-}
      - GITHUB_TOKEN=${GITHUB_TOKEN:-}
    ports:
      - "127.0.0.1:3018:3018"
    volumes:
      - ./:/workspace
